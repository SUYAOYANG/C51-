C51 COMPILER V9.54   _________________                                                     01/30/2020 20:10:50 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE _________________
OBJECT MODULE PLACED IN .\Objects\¿ÕÏÐÄ£Ê½_µôµçÄ£Ê½.obj
COMPILER INVOKED BY: E:\Learning_syy\C51&STM32\Keil5\C51\BIN\C51.EXE ¿ÕÏÐÄ£Ê½_µôµçÄ£Ê½.c OPTIMIZE(8,SPEED) BROWSE DEBUG 
                    -OBJECTEXTEND PRINT(.\Listings\¿ÕÏÐÄ£Ê½_µôµçÄ£Ê½.lst) TABS(2) OBJECT(.\Objects\¿ÕÏÐÄ£Ê½_µôµçÄ£Ê½.obj)

line level    source

   1          /*
   2          **********************************************************************************************************
             -*************************************
   3          *
   4          *   Ä£¿éÃû³Æ £º ÊýÂë¹ÜÄ£¿é
   5          *   ÎÄ¼þÃû³Æ £º ¿ÕÏÐÄ£Ê½_µôµçÄ£Ê½.c
   6          *   °æ±¾     £º v1.0
   7          *   ËµÃ÷     £º ¿ªÆôÁ½¸öÍâ²¿ÖÐ¶Ï£¬ÉèÖÃµÍµçÆ½´¥·¢ÖÐ¶Ï£¬ÓÃ¶¨Ê±Æ÷0¼ÆÊý²¢ÏÔÊ¾ÔÚÊýÂë¹ÜÉÏ£¬µ±¼ÆÊýµ½5Ê±£¬Ê¹µ¥Æ¬»ú½øÈ
             -ë¿ÕÏÐÄ£Ê½»òÐÝÃßÄ£Ê½
   8          *               Í¬Ê±¹Ø±Õ¶¨Ê±Æ÷£¬µ±µ¥Æ¬»úÏìÓ¦Íâ²¿ÖÐ¶Ïºó£¬´Ó¿ÕÏÐ£¨ÐÝÃß£©Ä£Ê½·µ»Ø£¬Í¬Ê±¿ªÆô¶¨Ê±Æ÷0
   9          *               P3^2ÏìÓ¦Íâ²¿ÖÐ¶Ï0£¬P3^3ÏìÓ¦Íâ²¿ÖÐ¶Ï1
  10          *   ÐÞ¸Ä¼ÇÂ¼ £º
  11          *       °æ±¾ºÅ    ÈÕÆÚ        ×÷Õß      ËµÃ÷
  12          *       v1.0    2020-01-30  Yang      v1.0°æ±¾½øÐÐ²âÊÔ
  13          *       
  14          *
  15          **********************************************************************************************************
             -*************************************
  16          */
  17          
  18          #include <reg52.h>
  19          #define uchar unsigned char
  20          #define uint unsigned int
  21          
  22          sbit dula=P2^6;
  23          sbit wela=P2^7;
  24          
  25          uchar code table[]={
  26            0x3f,0x06,0x5b,0x4f,
  27            0x66,0x6d,0x7d,0x07,
  28            0x7f,0x6f,0x77,0x7c,
  29            0x39,0x5e,0x79,0x71
  30          };
  31          uchar num_s;
  32          uchar num_ms;
  33          
  34          /****ÑÓÊ±º¯Êý£¬ÑÓÊ±nºÁÃë****/
  35          void delay_ms(uint n)
  36          {
  37   1        uint i,j;
  38   1        for(i=n;i>0;i--)
  39   1          for(j=110;j>0;j--);
  40   1      }
  41          
  42          /****ÏÔÊ¾ÊýÂë¹ÜÇ°Á½Î»****/
  43          void display(uchar ge,uchar shi)
  44          {
  45   1        /*ÏÔÊ¾¸öÎ»*/
  46   1        wela=1;
  47   1        P0=0xdf;
  48   1        wela=0;
  49   1        dula=1;
  50   1        P0=table[ge];
  51   1        dula=0;
C51 COMPILER V9.54   _________________                                                     01/30/2020 20:10:50 PAGE 2   

  52   1        delay_ms(5);
  53   1        
  54   1        /*ÏÔÊ¾Ê®Î»*/
  55   1        wela=1;
  56   1        P0=0xef;
  57   1        wela=0;
  58   1        dula=1;
  59   1        P0=table[shi];
  60   1        dula=0;
  61   1        delay_ms(5);  
  62   1      }
  63          
  64          /****Ö÷º¯Êý****/
  65          void main()
  66          {
  67   1        /*¿ªÆô¶¨Ê±Æ÷0£¬ÉèÎª¹¤×÷·½Ê½1*/
  68   1        TMOD=0x01;
  69   1        TH0=(65536-50000)/256;//×°³õÖµ£¬50msÒ»´Î
  70   1        TL0=(65536-50000)%256;
  71   1        TR0=1;
  72   1        
  73   1        /*¿ªÆôÖÐ¶Ï*/
  74   1        EA=1;//×ÜÖÐ¶Ï
  75   1        ET0=1;//¶¨Ê±Æ÷0ÖÐ¶Ï
  76   1        EX0=1;//Íâ²¿ÖÐ¶Ï0
  77   1        EX1=1;//Íâ²¿ÖÐ¶Ï1
  78   1        
  79   1        /*Ñ­»·¶ÁÈ¡Êý¾Ý*/
  80   1        while(1)
  81   1        {
  82   2          if(num_ms==20)
  83   2          {
  84   3            num_ms=0;
  85   3            num_s++;
  86   3            if(num_s==6)
  87   3            {
  88   4              ET0=0;//¹Ø±Õ¶¨Ê±Æ÷0ÖÐ¶Ï£¬·ÀÖ¹¶ÔÍâ²¿ÖÐ¶Ï¸ÉÈÅ
  89   4              PCON=0x02;//½øÈë¿ÕÏÐÄ£Ê½£¬0x01Îª¿ÕÏÐÄ£Ê½£¬0x02ÎªµôµçÄ£Ê½
  90   4            }
  91   3          }
  92   2          display(num_s%10,num_s/10);
  93   2        }
  94   1      }
  95          
  96          /****Íâ²¿ÖÐ¶Ï0·þÎñº¯Êý****/
  97          void Ex_Int0() interrupt 0
  98          {
  99   1        PCON=0x00;//ÍË³ö¿ÕÏÐ»òµôµçÄ£Ê½
 100   1        ET0=1;//»Ö¸´¶¨Ê±Æ÷0ÖÐ¶Ï
 101   1      }
 102          
 103          /****¶¨Ê±Æ÷0ÖÐ¶Ï·þÎñº¯Êý****/
 104          void T0_time() interrupt 1
 105          {
 106   1        TH0=(65536-50000)/256;//×°³õÖµ£¬50msÒ»´Î
 107   1        TL0=(65536-50000)%256;
 108   1        num_ms++;
 109   1      }
 110          
 111          /****Íâ²¿ÖÐ¶Ï1·þÎñº¯Êý****/
 112          void Ex_Int1() interrupt 2
 113          {
C51 COMPILER V9.54   _________________                                                     01/30/2020 20:10:50 PAGE 3   

 114   1        PCON=0x00;//ÍË³ö¿ÕÏÐ»òµôµçÄ£Ê½
 115   1        ET0=1;//»Ö¸´¶¨Ê±Æ÷0ÖÐ¶Ï
 116   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    159    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
